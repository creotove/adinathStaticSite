"use strict";(self.webpackChunk_spellgrowth_adi_nath_group=self.webpackChunk_spellgrowth_adi_nath_group||[]).push([[7681],{87681:function(e,r,s){s.r(r);var n=s(74165),a=s(15861),t=s(29439),l=s(72791),c=s(78983),o=s(95313),i=s(89743),d=s(2677),u=s(16157),p=s(62649),m=s(31243),x=s(59434),h=s(80184);r.default=function(){var e=(0,x.v9)((function(e){return e.user.user})),r=(0,l.useState)("allAccess"),s=(0,t.Z)(r,2),f=s[0],j=s[1],v=(0,l.useState)([]),Z=(0,t.Z)(v,2),b=Z[0],N=Z[1],g=(0,l.useState)(!1),C=(0,t.Z)(g,2),P=C[0],A=C[1],w=(0,l.useState)(""),y=(0,t.Z)(w,2),S=y[0],k=y[1],I=(0,l.useState)(""),q=(0,t.Z)(I,2),E=q[0],_=q[1],U=(0,l.useState)(""),G=(0,t.Z)(U,2),L=G[0],B=G[1],D=(0,l.useState)(""),M=(0,t.Z)(D,2),R=M[0],T=M[1],W=(0,l.useState)(""),V=(0,t.Z)(W,2),z=V[0],F=V[1],K=(0,l.useState)(!1),O=(0,t.Z)(K,2),H=O[0],J=O[1],Q=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(s){var a,t;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!1!==s.currentTarget.checkValidity()){r.next=8;break}return s.preventDefault(),s.stopPropagation(),R!==z&&p.ZP.error("Password and Confirm Password does not match"),J(!0),r.abrupt("return");case 8:if(R===z){r.next=10;break}return r.abrupt("return",p.ZP.error("Password field does not match"));case 10:return s.preventDefault(),s.stopPropagation(),a={name:S,mobileNumber:E,perms:f,uniqueId:L,password:R,createdBy:e._id},console.log(a),r.next=16,m.Z.post("/api/v1/masterAdmin/add-employee",a);case 16:(t=r.sent).data.success?(k(""),_(""),B(""),T(""),j("allAccess"),F(""),p.ZP.success("Partner Added successfull"),X(),A(!1)):p.ZP.error(t.data.message),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(0),p.ZP.error("Error in adding Partner"),console.log(r.t0);case 24:s.preventDefault();case 25:case"end":return r.stop()}}),r,null,[[0,20]])})));return function(e){return r.apply(this,arguments)}}(),X=(0,l.useCallback)((0,a.Z)((0,n.Z)().mark((function r(){var s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=6;break}return r.next=4,m.Z.get("/api/v1/masterAdmin/get-employee");case 4:(s=r.sent).data.success&&N(s.data.data);case 6:r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),p.ZP.error("Error in getting employees"),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,8]])}))),[e]);return(0,l.useEffect)((function(){X()}),[X]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.KB,{fluid:!0,className:"d-flex justify-content-end",children:[(0,h.jsx)(c.u5,{onClick:function(){return A(!P)},className:"mb-3 myCustomBtn",children:"Create Employee"}),(0,h.jsxs)(c.Tk,{size:"md",visible:P,onClose:function(){return A(!1)},"aria-labelledby":"OptionalSizesExample2",children:[(0,h.jsx)(c.p0,{children:(0,h.jsx)(c.fl,{id:"CreatePartnerModal",children:"Create Partner"})}),(0,h.jsx)(c.sD,{children:(0,h.jsx)("div",{className:"container justify-content-center d-flex mt-5 w-100 ",children:(0,h.jsxs)(o.Z,{noValidate:!0,validated:H,onSubmit:Q,autoComplete:"off",children:[(0,h.jsxs)(i.Z,{className:"mb-3",children:[(0,h.jsxs)(o.Z.Group,{as:d.Z,className:"col-12 col-md-6",controlId:"formName",children:[(0,h.jsx)(o.Z.Label,{children:"Name"}),(0,h.jsx)(o.Z.Control,{type:"text",placeholder:"Enter Name",onChange:function(e){k(e.target.value)},value:S,required:!0})]}),(0,h.jsxs)(o.Z.Group,{as:d.Z,className:"col-12 col-md-6",controlId:"formMobileNumber",children:[(0,h.jsx)(o.Z.Label,{children:"WhatsApp Number"}),(0,h.jsx)(o.Z.Control,{type:"number",placeholder:"Enter Mobile Number",onChange:function(e){return _(e.target.value)},value:E,required:!0})]})]}),(0,h.jsxs)(i.Z,{className:"mb-3",children:[(0,h.jsxs)(o.Z.Group,{as:d.Z,className:"col-12 col-md-6",controlId:"UniqueId",children:[(0,h.jsx)(o.Z.Label,{children:"Unique Id"}),(0,h.jsx)(o.Z.Control,{type:"text",className:"disabled",placeholder:"Unique Id",onChange:function(e){return function(e){var r=E.slice(-6);B("EMP-".concat(r))}()},value:L,required:!0})]}),(0,h.jsxs)(o.Z.Group,{className:"col-12 col-md-6",children:[(0,h.jsx)(o.Z.Label,{children:"Permissions"}),(0,h.jsxs)(o.Z.Select,{onChange:function(e){j(e.target.value)},defaultValue:"allAccess",value:f,required:!0,children:[(0,h.jsx)("option",{value:"Select Role",disabled:!0,children:"Select Permissions"}),(0,h.jsx)("option",{value:"allAccess",children:"All Access"}),(0,h.jsx)("option",{value:"isWalletApprover",children:"Wallet Add Approver"}),(0,h.jsx)("option",{value:"isCouponApprover",children:"Coupon Purchase Approver"}),(0,h.jsx)("option",{value:"isUserApprover",children:"User Approver"})]})]})]}),(0,h.jsxs)(i.Z,{className:"mb-3",children:[(0,h.jsxs)(o.Z.Group,{as:d.Z,className:"col-12 col-md-6",controlId:"formPassword",children:[(0,h.jsx)(o.Z.Label,{children:"Password "}),(0,h.jsx)(o.Z.Control,{type:"password",placeholder:"Enter Password",onChange:function(e){return T(e.target.value)},value:R,required:!0})]}),(0,h.jsxs)(o.Z.Group,{as:d.Z,className:"col-12 col-md-6",controlId:"formCnfrmPassword",children:[(0,h.jsx)(o.Z.Label,{children:"Confirm Password"}),(0,h.jsx)(o.Z.Control,{type:"password",placeholder:"Re-enter Password",onChange:function(e){return F(e.target.value)},value:z,required:!0})]})]}),(0,h.jsx)(u.Z,{className:"col-3 col-sm-12 col-lg-3 col-xs-12 col-md-3 col-12 offset-md-9 myCustomBtn",type:"submit",children:"Submit"})]})})})]})]}),(0,h.jsx)(c.KB,{fluid:!0,children:(0,h.jsx)(c.rb,{children:(0,h.jsx)(c.b7,{xs:!0,children:(0,h.jsxs)(c.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,h.jsx)(c.V,{color:"light",children:(0,h.jsxs)(c.T6,{children:[(0,h.jsx)(c.is,{className:"text-center",children:(0,h.jsx)("b",{children:"Sn"})}),(0,h.jsx)(c.is,{className:"text-center",children:(0,h.jsx)("b",{children:"Name"})}),(0,h.jsx)(c.is,{className:"text-center",children:(0,h.jsx)("b",{children:"Mobile Number"})}),(0,h.jsx)(c.is,{className:"text-center",children:(0,h.jsx)("b",{children:"Unique ID"})}),(0,h.jsx)(c.is,{className:"text-center",children:(0,h.jsx)("b",{children:"Permissions"})})]})}),(0,h.jsx)(c.NR,{children:b&&b.length>0?b.map((function(e,r){return(0,h.jsxs)(c.T6,{"v-for":"item in tableItems",children:[(0,h.jsx)(c.NN,{className:"text-center",children:(0,h.jsx)("strong",{children:r+1})}),(0,h.jsx)(c.NN,{className:"text-center",children:e.name}),(0,h.jsx)(c.NN,{className:"text-center",children:e.mobileNumber}),(0,h.jsx)(c.NN,{className:"text-center",children:e.uniqueId}),(0,h.jsx)(c.NN,{className:"text-center",children:"allAccess"===e.perms?"All Access":"isWalletApprover"===e.perms?"Wallet Add Approver":"isCouponApprover"===e.perms?"Coupon Purchase Approver":"isUserApprover"===e.perms?"User Approver":""})]},r)})):(0,h.jsx)(c.T6,{"v-for":"item in tableItems",children:(0,h.jsx)(c.NN,{className:"text-center",colSpan:9,children:"No employees Found"})})})]})})})})]})}},89743:function(e,r,s){var n=s(1413),a=s(45987),t=s(81694),l=s.n(t),c=s(72791),o=s(10162),i=s(80184),d=["bsPrefix","className","as"],u=c.forwardRef((function(e,r){var s=e.bsPrefix,t=e.className,c=e.as,u=void 0===c?"div":c,p=(0,a.Z)(e,d),m=(0,o.vE)(s,"row"),x=(0,o.pi)(),h=(0,o.zG)(),f="".concat(m,"-cols"),j=[];return x.forEach((function(e){var r,s=p[e];delete p[e],r=null!=s&&"object"===typeof s?s.cols:s;var n=e!==h?"-".concat(e):"";null!=r&&j.push("".concat(f).concat(n,"-").concat(r))})),(0,i.jsx)(u,(0,n.Z)((0,n.Z)({ref:r},p),{},{className:l().apply(void 0,[t,m].concat(j))}))}));u.displayName="Row",r.Z=u}}]);
//# sourceMappingURL=7681.667fc90a.chunk.js.map