"use strict";(self.webpackChunk_spellgrowth_adi_nath_group=self.webpackChunk_spellgrowth_adi_nath_group||[]).push([[4676],{64676:function(e,a,r){r.r(a);var t=r(74165),n=r(15861),s=r(29439),l=r(72791),o=r(78983),c=r(89743),i=r(95313),d=r(2677),u=r(27098),h=r(16157),x=r(62649),m=r(31243),p=r(59434),j=r(3162),v=r(96048),g=r.n(v),Z=r(80184);a.default=function(){var e=(0,p.v9)((function(e){return e.user.user})),a=(0,p.v9)((function(e){return e.partners.partners})),r=(0,l.useState)(!1),v=(0,s.Z)(r,2),f=v[0],N=v[1],b=(0,l.useState)(""),C=(0,s.Z)(b,2),P=C[0],S=C[1],y=(0,l.useState)(""),D=(0,s.Z)(y,2),k=D[0],R=D[1],w=(0,l.useState)("Retailer"),A=(0,s.Z)(w,2),I=A[0],q=A[1],L=(0,l.useState)("Assam"),M=(0,s.Z)(L,2),G=M[0],B=M[1],E=(0,l.useState)(""),T=(0,s.Z)(E,2),O=T[0],U=T[1],_=(0,l.useState)(""),V=(0,s.Z)(_,2),K=V[0],H=V[1],Y=(0,l.useState)(""),z=(0,s.Z)(Y,2),J=z[0],F=z[1],W=(0,l.useState)(""),$=(0,s.Z)(W,2),Q=($[0],$[1]),X=(0,l.useState)(""),ee=(0,s.Z)(X,2),ae=ee[0],re=ee[1],te=(0,l.useState)(""),ne=(0,s.Z)(te,2),se=ne[0],le=ne[1],oe=(0,l.useState)(""),ce=(0,s.Z)(oe,2),ie=ce[0],de=ce[1],ue=(0,l.useState)(""),he=(0,s.Z)(ue,2),xe=he[0],me=he[1],pe=(0,l.useState)(!1),je=(0,s.Z)(pe,2),ve=je[0],ge=je[1],Ze=(0,l.useState)(""),fe=(0,s.Z)(Ze,2),Ne=fe[0],be=fe[1],Ce=(0,l.useState)(""),Pe=(0,s.Z)(Ce,2),Se=Pe[0],ye=Pe[1],De=(0,l.useState)(!0),ke=(0,s.Z)(De,2),Re=(ke[0],ke[1]),we=(0,l.useState)(1),Ae=(0,s.Z)(we,2),Ie=Ae[0],qe=Ae[1],Le=(0,l.useRef)(1),Me=(0,p.I0)(),Ge=function(e){var a=new Date(e);return"".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")," ").concat(String(a.getHours()).padStart(2,"0"),":").concat(String(a.getMinutes()).padStart(2,"0"),":").concat(String(a.getSeconds()).padStart(2,"0"))},Be=function(e){return/^(\d{2})-(\d{2})-(\d{4})$/.test(e)},Ee=function(){var a=(0,n.Z)((0,t.Z)().mark((function a(r){var n,s,l;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!1!==r.currentTarget.checkValidity()){a.next=8;break}return r.preventDefault(),r.stopPropagation(),ie!==xe&&x.ZP.error("Password and Confirm Password does not match"),ge(!0),a.abrupt("return");case 8:if(r.preventDefault(),r.stopPropagation(),n={name:P,mobileNumber:k,role:I,dob:Se,email:J,uniqueId:O,state:G,aadharCard:Ne,pan:K,city:ae,password:ie,pinCode:se,createdBy:e._id},!e.perms){a.next=18;break}return a.next=14,m.Z.post("/api/v1/user/createUserByEmp",n);case 14:(s=a.sent).data.success?(S(""),R(""),q("Retailer"),B("Assam"),U(""),F(""),Q(""),re(""),le(""),de(""),me(""),x.ZP.success("Partner Added successfull"),Te(),N(!1)):(x.ZP.error(s.data.message),N(!1)),a.next=22;break;case 18:return a.next=20,m.Z.post("/api/v1/user/createUser",n);case 20:(l=a.sent).data.success?(S(""),R(""),q("Retailer"),B("Assam"),U(""),F(""),Q(""),re(""),le(""),de(""),me(""),x.ZP.success("Partner Added successfull"),Te(),N(!1)):(x.ZP.error(l.data.message),N(!1));case 22:a.next=28;break;case 24:a.prev=24,a.t0=a.catch(0),N(!1),x.ZP.error(a.t0.response.data.message);case 28:r.preventDefault();case 29:case"end":return a.stop()}}),a,null,[[0,24]])})));return function(e){return a.apply(this,arguments)}}(),Te=(0,l.useCallback)(function(){var a=(0,n.Z)((0,t.Z)().mark((function a(r){var n,s,l,o,c,i;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.perms){a.next=9;break}return n={uniqueId:e.uniqueId},a.next=5,m.Z.post("/api/v1/user/getAllPartnersCreatedByEmp?page=".concat(Le.current,"&limit=").concat(8),n);case 5:(s=a.sent).data.success&&(0===(l=s.data.data).results.length?Me(j.LO.actions.setPartners(null)):(Me(j.LO.actions.setPartners(l.results)),qe(l.totalPages))),a.next=14;break;case 9:return o={uniqueId:e.uniqueId},a.next=12,m.Z.post("/api/v1/user/getAllPartnersCreatedByUser?page=".concat(Le.current,"&limit=").concat(8),o);case 12:(c=a.sent).data.success&&(0===(i=c.data.data).results.length?Me(j.LO.actions.setPartners(null)):(Me(j.LO.actions.setPartners(i.results)),qe(i.totalPages)));case 14:a.next=20;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0),x.ZP.error("Something went wrong");case 20:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(e){return a.apply(this,arguments)}}(),[Me]);return(0,l.useEffect)((function(){Le.current=1,Te()}),[Te]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(o.KB,{fluid:!0,className:"d-flex justify-content-end",children:[(0,Z.jsx)(o.u5,{onClick:function(){return N(!f)},className:"mb-3 myCustomBtn",children:"Create Partner"}),(0,Z.jsxs)(o.Tk,{size:"lg",visible:f,onClose:function(){return N(!1)},"aria-labelledby":"OptionalSizesExample2",children:[(0,Z.jsx)(o.p0,{children:(0,Z.jsx)(o.fl,{id:"CreatePartnerModal",children:"Create Partner"})}),(0,Z.jsx)(o.sD,{children:(0,Z.jsx)("div",{className:"container justify-content-center d-flex mt-5 w-100 ",children:(0,Z.jsxs)(i.Z,{noValidate:!0,validated:ve,onSubmit:Ee,autoComplete:"off",children:[(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formName",children:[(0,Z.jsx)(i.Z.Label,{children:"Name"}),(0,Z.jsx)(i.Z.Control,{type:"text",placeholder:"Enter Name",onChange:function(e){S(e.target.value)},value:P,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formMobileNumber",children:[(0,Z.jsx)(i.Z.Label,{children:"WhatsApp Number"}),(0,Z.jsx)(i.Z.Control,{type:"number",placeholder:"Enter Mobile Number",onChange:function(e){R(e.target.value)},value:k,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formRole",children:[(0,Z.jsx)(i.Z.Label,{children:"Role"}),e&&"Admin"===e.role?(0,Z.jsxs)(i.Z.Select,{onChange:function(e){q(e.target.value),console.log(e.target.value)},defaultValue:"Retailer",value:I,required:!0,children:[(0,Z.jsx)("option",{value:"Select Role",disabled:!0,children:"Select Role"}),(0,Z.jsx)("option",{value:"Master Distributor",children:"Master Distributor"}),(0,Z.jsx)("option",{value:"Distributor",children:"Distributor"}),(0,Z.jsx)("option",{value:"Retailer",children:"Retailer"})]}):e&&"Master Distributor"===e.role?(0,Z.jsxs)(i.Z.Select,{onChange:function(e){q(e.target.value),console.log(e.target.value)},defaultValue:"Retailer",value:I,required:!0,children:[(0,Z.jsx)("option",{value:"Select Role",disabled:!0,children:"Select Role"}),(0,Z.jsx)("option",{value:"Distributor",children:"Distributor"}),(0,Z.jsx)("option",{value:"Retailer",children:"Retailer"})]}):e&&"Distributor"===e.role?(0,Z.jsxs)(i.Z.Select,{onChange:function(e){q(e.target.value),console.log(e.target.value)},defaultValue:"Retailer",value:I,required:!0,children:[(0,Z.jsx)("option",{value:"Select Role",disabled:!0,children:"Select Role"}),(0,Z.jsx)("option",{value:"Retailer",children:"Retailer"})]}):(0,Z.jsxs)(i.Z.Select,{onChange:function(e){q(e.target.value),console.log(e.target.value)},defaultValue:"Retailer",value:I,required:!0,children:[(0,Z.jsx)("option",{value:"Select Role",disabled:!0,children:"Select Role"}),(0,Z.jsx)("option",{value:"Admin",children:"Admin"}),(0,Z.jsx)("option",{value:"Master Distributor",children:"Master Distributor"}),(0,Z.jsx)("option",{value:"Distributor",children:"Distributor"}),(0,Z.jsx)("option",{value:"Retailer",children:"Retailer"})]})]})]}),(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formAge",children:[(0,Z.jsx)(i.Z.Label,{children:"DOB (DD-MM-YY)"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:Se,placeholder:"DD-MM-YYYY",onChange:function(e){var a=e.target.value;(a=a.replace(/\D/g,"")).length>2&&(a="".concat(a.slice(0,2),"-").concat(a.slice(2))),a.length>5&&(a="".concat(a.slice(0,5),"-").concat(a.slice(5,9))),ye(a),Re(Be(a))},required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"UniqueId",children:[(0,Z.jsx)(i.Z.Label,{children:"Unique Id"}),(0,Z.jsxs)(u.Z,{className:"mb-3",children:[(0,Z.jsx)(i.Z.Control,{placeholder:"Unique ID","aria-label":"unique ID","aria-describedby":"basic-addon1",value:O}),(0,Z.jsx)(h.Z,{className:"myCustomBtn",onClick:function(e){return 10===k.length?function(e){var a=k.slice(-6);U("ADI-".concat(a))}():x.ZP.error("Please enter valid mobile number")&&N(!1)},children:"Generate"})]})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formEmail",children:[(0,Z.jsx)(i.Z.Label,{children:"Email"}),(0,Z.jsx)(i.Z.Control,{type:"text",className:"email",placeholder:"Email",onChange:function(e){return F(e.target.value)},value:J,required:!0})]})]}),(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formState",children:[(0,Z.jsx)(i.Z.Label,{children:"State"}),(0,Z.jsxs)(i.Z.Select,{onChange:function(e){return B(e.target.value)},defaultValue:"Gujarat",value:G,required:!0,children:[(0,Z.jsx)("option",{value:"Select State",disabled:!0,children:"State..."}),(0,Z.jsx)("option",{value:"Assam",children:"Assam"}),(0,Z.jsx)("option",{value:"Andaman And Nicobar",children:"Andaman And Nicobar"}),(0,Z.jsx)("option",{value:"Chandigarh",children:"Chandigarh"}),(0,Z.jsx)("option",{value:"Dadra And Nagar Haveli And Daman And Diu",children:"Dadra And Nagar Haveli And Daman And Diu"}),(0,Z.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Z.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,Z.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,Z.jsx)("option",{value:"Utter Pradesh",children:"Utter Pradesh"}),(0,Z.jsx)("option",{value:"Uttrakhand",children:"Uttrakhand"}),(0,Z.jsx)("option",{value:"Jammu Kashmir",children:"Jammu Kashmir"}),(0,Z.jsx)("option",{value:"Jharkhand",children:"Jharkhand"}),(0,Z.jsx)("option",{value:"Meghalaya",children:"Meghalaya"}),(0,Z.jsx)("option",{value:"Goa",children:"Goa"}),(0,Z.jsx)("option",{value:"Manipur",children:"Manipur"}),(0,Z.jsx)("option",{value:"Karnataka",children:"Karnataka"}),(0,Z.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,Z.jsx)("option",{value:"Andra Pradesh",children:"Andra Pradesh"}),(0,Z.jsx)("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),(0,Z.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,Z.jsx)("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),(0,Z.jsx)("option",{value:"Tamilnadu",children:"Tamilnadu"}),(0,Z.jsx)("option",{value:"Odisha",children:"Odisha"}),(0,Z.jsx)("option",{value:"West Bengal",children:"West Bengal"}),(0,Z.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,Z.jsx)("option",{value:"Mizoram",children:"Mizoram"}),(0,Z.jsx)("option",{value:"Nagaland",children:"Nagaland"}),(0,Z.jsx)("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),(0,Z.jsx)("option",{value:"Sikkim",children:"Sikkim"}),(0,Z.jsx)("option",{value:"Panducherry",children:"Panducherry"}),(0,Z.jsx)("option",{value:"Delhi",children:"Delhi"}),(0,Z.jsx)("option",{value:"Bihar",children:"Bihar"}),(0,Z.jsx)("option",{value:"Haryana",children:"Haryana"}),(0,Z.jsx)("option",{value:"Kerala",children:"Kerala"}),(0,Z.jsx)("option",{value:"Tripura",children:"Tripura"}),(0,Z.jsx)("option",{value:"Ladakh",children:"Ladakh"}),(0,Z.jsx)("option",{value:"New Delhi",children:"New Delhi"}),(0,Z.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formCity",children:[(0,Z.jsx)(i.Z.Label,{children:"City "}),(0,Z.jsx)(i.Z.Control,{type:"text",placeholder:"Enter City",onChange:function(e){return re(e.target.value)},value:ae,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formPinCode",children:[(0,Z.jsx)(i.Z.Label,{children:"PinCode "}),(0,Z.jsx)(i.Z.Control,{type:"number",placeholder:"Pin code",onChange:function(e){return le(e.target.value)},value:se,required:!0})]})]}),(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Pan Card Number"}),(0,Z.jsx)(i.Z.Control,{type:"text",placeholder:"Enter Pan Card Number",onChange:function(e){return H(e.target.value)},value:K,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Aadhar Card Number"}),(0,Z.jsx)(i.Z.Control,{type:"text",placeholder:"Enter Pan Card Number",onChange:function(e){return be(e.target.value)},value:Ne,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Password "}),(0,Z.jsx)(i.Z.Control,{type:"password",placeholder:"Enter Password",onChange:function(e){return de(e.target.value)},value:ie,required:!0})]}),(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formCnfrmPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Confirm Password"}),(0,Z.jsx)(i.Z.Control,{type:"password",placeholder:"Re-enter Password",onChange:function(e){return me(e.target.value)},value:xe,required:!0})]})]}),(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(i.Z.Group,{as:d.Z,className:"col-sm-12 col-lg-4 col-xs-12 col-md-4 col-12",controlId:"formCnfrmPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Confirm Password"}),(0,Z.jsx)(i.Z.Control,{type:"password",placeholder:"Re-enter Password",onChange:function(e){return me(e.target.value)},value:xe,required:!0})]})}),(0,Z.jsx)(h.Z,{className:"col-3 col-sm-12 col-lg-3 col-xs-12 col-md-3 col-12 offset-md-9 myCustomBtn",type:"submit",children:"Submit"})]})})})]})]}),(0,Z.jsx)(o.KB,{fluid:!0,children:(0,Z.jsx)(o.rb,{children:(0,Z.jsx)(o.b7,{xs:!0,children:(0,Z.jsxs)(o.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,Z.jsx)(o.V,{color:"light",children:(0,Z.jsxs)(o.T6,{children:[(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Sn"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Date"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Unique Id"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Role"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Name"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"PAN"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"City"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Created By"})}),(0,Z.jsx)(o.is,{className:"text-center",children:(0,Z.jsx)("b",{children:"Status"})})]})}),(0,Z.jsx)(o.NR,{children:a&&a.length>0?a.map((function(e,a){return(0,Z.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,Z.jsx)(o.NN,{className:"text-center",children:(0,Z.jsx)("strong",{children:a+1})}),(0,Z.jsx)(o.NN,{className:"text-center",children:Ge(e.createdAt)}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.uniqueId}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.role}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.name}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.panCard}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.city}),(0,Z.jsx)(o.NN,{className:"text-center",children:e.createdBy}),(0,Z.jsx)(o.NN,{className:"text-center",children:"pending"===e.status?(0,Z.jsx)(o.C_,{color:"warning",shape:"rounded-pill",children:"Pending"}):(0,Z.jsx)(o.C_,{color:"success",shape:"rounded-pill",children:"Approved"})})]},a)})):(0,Z.jsx)(o.T6,{"v-for":"item in tableItems",children:(0,Z.jsx)(o.NN,{className:"text-center",colSpan:9,children:"No partners Found"})})})]})})})})]}),(0,Z.jsxs)(c.Z,{children:[" ",(0,Z.jsx)(g(),{breakLabel:"...",nextLabel:"next >",onPageChange:function(e){var a=e.selected+1;Le.current=a,Te(a)},pageRangeDisplayed:5,pageCount:Ie,previousLabel:"< previous",renderOnZeroPageCount:null,marginPagesDisplayed:2,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}},27098:function(e,a,r){r.d(a,{Z:function(){return g}});var t=r(45987),n=r(1413),s=r(81694),l=r.n(s),o=r(72791),c=r(10162),i=r(96882),d=o.createContext(null);d.displayName="InputGroupContext";var u=d,h=r(80184),x=["className","bsPrefix","as"],m=o.forwardRef((function(e,a){var r=e.className,s=e.bsPrefix,o=e.as,i=void 0===o?"span":o,d=(0,t.Z)(e,x);return s=(0,c.vE)(s,"input-group-text"),(0,h.jsx)(i,(0,n.Z)({ref:a,className:l()(r,s)},d))}));m.displayName="InputGroupText";var p=m,j=["bsPrefix","size","hasValidation","className","as"],v=o.forwardRef((function(e,a){var r=e.bsPrefix,s=e.size,i=e.hasValidation,d=e.className,x=e.as,m=void 0===x?"div":x,p=(0,t.Z)(e,j);r=(0,c.vE)(r,"input-group");var v=(0,o.useMemo)((function(){return{}}),[]);return(0,h.jsx)(u.Provider,{value:v,children:(0,h.jsx)(m,(0,n.Z)((0,n.Z)({ref:a},p),{},{className:l()(d,r,s&&"".concat(r,"-").concat(s),i&&"has-validation")}))})}));v.displayName="InputGroup";var g=Object.assign(v,{Text:p,Radio:function(e){return(0,h.jsx)(p,{children:(0,h.jsx)(i.Z,(0,n.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,h.jsx)(p,{children:(0,h.jsx)(i.Z,(0,n.Z)({type:"checkbox"},e))})}})}}]);
//# sourceMappingURL=4676.b75f1898.chunk.js.map