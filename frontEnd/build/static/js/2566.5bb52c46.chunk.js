"use strict";(self.webpackChunk_spellgrowth_adi_nath_group=self.webpackChunk_spellgrowth_adi_nath_group||[]).push([[2566],{12566:function(e,t,n){n.r(t);var s=n(74165),a=n(15861),r=n(29439),c=n(78983),i=n(62649),l=n(31243),o=n(72791),d=n(89743),u=n(47022),h=n(62591),m=n(16157),x=n(89708),p=n(96048),g=n.n(p),f=n(80184);t.default=function(){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),n=t[0],p=t[1],j=function(){return p(!1)},v=(0,o.useState)([]),Z=(0,r.Z)(v,2),N=Z[0],b=Z[1],w=(0,o.useState)(1),C=(0,r.Z)(w,2),k=C[0],y=C[1],S=(0,o.useRef)(1),_=(0,o.useState)(""),P=(0,r.Z)(_,2),I=P[0],L=P[1],B=(0,o.useState)(""),D=(0,r.Z)(B,2),F=D[0],R=D[1],T=(0,o.useState)(""),A=(0,r.Z)(T,2),E=A[0],M=A[1],z=(0,o.useState)(""),H=(0,r.Z)(z,2),U=H[0],q=H[1],O=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/v1/masterAdmin/getUserComplaints?page=".concat(S.current,"&limit=").concat(8));case 3:(n=e.sent).data.success&&(0===(a=n.data.data).results.length?b([]):(b(a.results),y(a.totalPages))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),i.ZP.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.patch("/api/v1/masterAdmin/setComplaintResolved/".concat(U));case 3:e.sent.data.success&&(i.ZP.success("Complaint resolved successfully"),p(!1),O()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),i.ZP.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var G=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("/api/v1/masterAdmin/deleteComplaintImage/".concat(t));case 3:e.sent.data.success&&(i.ZP.success("Complaint Image deleted successfully"),p(!1),O()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),i.ZP.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){S.current=1,O()}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.Z,{className:"mb-3",children:(0,f.jsxs)(u.Z,{fluid:!0,children:[(0,f.jsx)("h3",{children:"Complaints"}),(0,f.jsx)(d.Z,{children:(0,f.jsxs)(h.Z,{responsive:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"text-center",children:"Sn"}),(0,f.jsx)("th",{className:"text-center",children:"First Name"}),(0,f.jsx)("th",{className:"text-center",children:"UniqueId"}),(0,f.jsx)("th",{className:"text-center",children:"Mobile Number"}),(0,f.jsx)("th",{className:"text-center",children:"Title"}),(0,f.jsx)("th",{className:"text-center",children:"Ticket ID"}),(0,f.jsx)("th",{className:"text-center",children:"Status"}),(0,f.jsx)("th",{className:"text-center",children:"Action"})]})}),(0,f.jsx)("tbody",{children:N&&N.length>0?N.map((function(e,t){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"text-center",children:t+1}),(0,f.jsx)("td",{className:"text-center",children:e.firstName}),(0,f.jsx)("td",{className:"text-center",children:e.userId}),(0,f.jsx)("td",{className:"text-center",children:e.mobile}),(0,f.jsx)("td",{className:"text-center",children:e.complaintTitle}),(0,f.jsx)("td",{className:"text-center",children:e.ticketId}),(0,f.jsx)("td",{className:"text-center",children:"pending"===e.status?(0,f.jsx)(c.C_,{className:"bg-warning",children:e.status}):(0,f.jsx)(c.C_,{className:"bg-success",children:e.status})}),(0,f.jsx)("td",{className:"text-center",children:(0,f.jsx)(m.Z,{onClick:function(){var t;t=e._id,p(!0),q(t),L(e.complaintTitle),R(e.complaintMessage),M(e.screenshot)},className:"myCustomBtn",children:"View More"})})]},t)})})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:8,className:"text-center text-danger",children:"No data found"})})})]})}),(0,f.jsxs)(x.Z,{show:n,onHide:j,animation:!1,children:[(0,f.jsx)(x.Z.Header,{closeButton:!0,children:(0,f.jsx)(x.Z.Title,{children:I})}),(0,f.jsxs)(x.Z.Body,{children:[F,(0,f.jsx)("div",{className:"bg-black d-flex justify-content-center align-items-center text-white",style:{width:"100%",height:"10rem"},children:E?(0,f.jsx)("img",{className:"p-3",style:{width:"100%",height:"100%",objectFit:"contain"},src:E,alt:""}):"Image was deleted"}),(0,f.jsx)(m.Z,{className:"myCustomBtn mt-3",onClick:function(){return function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}(E,"downloaded_image.png")},children:"Download"}),(0,f.jsx)(m.Z,{className:"btn-danger text-white ms-3 mt-3",onClick:function(){G(U)},children:(0,f.jsx)("b",{children:"Delete"})})]}),(0,f.jsx)(x.Z.Footer,{children:(0,f.jsx)(m.Z,{className:"myCustomBtn",onClick:function(){j(),V(U)},children:"Set as Resolved"})})]})]})}),(0,f.jsx)(d.Z,{children:(0,f.jsx)(g(),{breakLabel:"...",nextLabel:"next >",onPageChange:function(e){var t=e.selected+1;S.current=t,O(t)},pageRangeDisplayed:5,pageCount:k,previousLabel:"< previous",renderOnZeroPageCount:null,marginPagesDisplayed:2,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})}},62591:function(e,t,n){var s=n(1413),a=n(45987),r=n(81694),c=n.n(r),i=n(72791),l=n(10162),o=n(80184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,u=e.bordered,h=e.borderless,m=e.hover,x=e.size,p=e.variant,g=e.responsive,f=(0,a.Z)(e,d),j=(0,l.vE)(n,"table"),v=c()(r,j,p&&"".concat(j,"-").concat(p),x&&"".concat(j,"-").concat(x),i&&"".concat(j,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),u&&"".concat(j,"-bordered"),h&&"".concat(j,"-borderless"),m&&"".concat(j,"-hover")),Z=(0,o.jsx)("table",(0,s.Z)((0,s.Z)({},f),{},{className:v,ref:t}));if(g){var N="".concat(j,"-responsive");return"string"===typeof g&&(N="".concat(N,"-").concat(g)),(0,o.jsx)("div",{className:N,children:Z})}return Z}));t.Z=u}}]);
//# sourceMappingURL=2566.5bb52c46.chunk.js.map