"use strict";(self.webpackChunk_spellgrowth_adi_nath_group=self.webpackChunk_spellgrowth_adi_nath_group||[]).push([[8518],{18518:function(e,a,r){r.r(a),r.d(a,{default:function(){return y}});var t=r(1413),s=r(74165),n=r(15861),c=r(29439),i=r(62649),o=r(31243),l=r(72791),d=r(47022),u=r(89743),f=r(99033),m=r(95313),x=r(16157),v=r(2677),h=r(40878),p=r(62591),N=r(59434),Z=r(57689),b=r(78983),j=r(80184),w=function(e){var a=e.status,r="pending"===a?"warning":"rejected"===a?"danger":"success",t="pending"===a?"Pending":"rejected"===a?"Rejected":"Approved";return(0,j.jsx)(b.C_,{className:"text-white",color:r,children:t})},g=r(11007),y=function(){var e=(0,N.v9)((function(e){return e.user.user})),a=(0,l.useState)([]),r=(0,c.Z)(a,2),b=(r[0],r[1]),y=(0,l.useState)([]),P=(0,c.Z)(y,2),C=P[0],k=P[1],E=(0,l.useState)(""),I=(0,c.Z)(E,2),S=I[0],R=I[1],A=(0,l.useState)(""),B=(0,c.Z)(A,2),F=B[0],q=B[1],D=(0,l.useState)([]),_=(0,c.Z)(D,2),H=_[0],T=_[1],O=(0,Z.s0)(),z=(0,N.I0)(),L=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){var r,t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.uniqueId;case 3:return r=a.sent,a.next=6,o.Z.post("/api/v1/user/getAccountDetails",{uniqueId:r});case 6:(t=a.sent).data.success?b(t.data.data):i.ZP.error("No Account Details Found"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}(),W=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(r){var n,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),a.prev=1,F){a.next=4;break}return a.abrupt("return",i.ZP.error("Please Enter Amount"));case 4:if(!(F<=0)){a.next=6;break}return a.abrupt("return",i.ZP.error("Please Enter Valid Amount"));case 6:if(!(F>e.totalCommissionEarned)){a.next=8;break}return a.abrupt("return",i.ZP.error("Insufficient Commission Balance to withdraw"));case 8:return a.next=10,e.uniqueId;case 10:return n=a.sent,a.next=13,o.Z.post("/api/v1/user/requestForWithdrawal",{uniqueId:n,bankName:S,amount:F,userId:e._id});case 13:(c=a.sent).data.success?(i.ZP.success("Withdrawal Request Sent"),z((0,g.a)((0,t.Z)((0,t.Z)({},e),{},{totalCommissionEarned:e.totalCommissionEarned-F})))):i.ZP.error(c.data.error),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(e){return a.apply(this,arguments)}}(),G=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){var r,t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.uniqueId;case 3:return r=a.sent,a.next=6,o.Z.post("/api/v1/user/getBankName",{uniqueId:r});case 6:(t=a.sent).data.success?(R(t.data.data[0].bankName+" "+t.data.data[0].ifscCode),k(t.data.data)):i.ZP.error("No Account Details Found"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}(),V=function(){var a=(0,n.Z)((0,s.Z)().mark((function a(){var r,t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.uniqueId;case 3:return r=a.sent,a.next=6,o.Z.post("/api/v1/user/getWithdrawalHistory",{uniqueId:r});case 6:(t=a.sent).data.success?T(t.data.data):(i.ZP.error("No Withdrawal History Found"),T([])),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return(0,l.useEffect)((function(){L(),G(),V()}),[e]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(d.Z,{fluid:!0,children:[(0,j.jsx)(u.Z,{className:"mb-3",children:(0,j.jsxs)(d.Z,{className:"d-flex col-12 justify-content-between flex-wrap-reverse flex-wrap flex-sm-wrap-reverse flex-md-nowrap",children:[(0,j.jsx)(d.Z,{className:"card col-12 col-md-6 col-lg-4",children:(0,j.jsx)(f.Z,{children:(0,j.jsxs)(m.Z,{noValidate:!0,autoComplete:"off",children:[(0,j.jsxs)(m.Z.Group,{className:"mb-5",controlId:"formBasicEmail",children:[(0,j.jsx)(m.Z.Label,{htmlFor:"inputPassword5",children:"Amount"}),(0,j.jsx)(m.Z.Control,{type:"number","aria-describedby":"Select Bank",onChange:function(e){return q(e.target.value)}}),(0,j.jsx)(m.Z.Label,{htmlFor:"inputPassword5",children:"Select Bank"}),(0,j.jsxs)(m.Z.Select,{"aria-label":"Default select example",onChange:function(e){R(e.target.value),console.log("set withdraw bank name"+e.target.value)},children:[(0,j.jsx)("option",{value:"select",disabled:!0,children:"Select Bank Name"}),C&&C.map((function(e){return(0,j.jsx)("option",{value:e.bankName+" "+e.ifscCode,children:e.bankName+" "+e.ifscCode},e._id)}))]})]}),(0,j.jsxs)(d.Z,{fluid:!0,className:"d-flex justify-content-between",children:[(0,j.jsx)(x.Z,{onClick:function(){return O("/bank-account-setup")},className:" myCustomBtn d-flex align-items-center justify-content-center me-2",children:"Add Bank Account"}),(0,j.jsx)(x.Z,{className:"myCustomBtn d-flex align-items-center justify-content-center",size:"sm",onClick:function(e){return W(e)},children:"Submit"})]})]})})}),(0,j.jsx)(d.Z,{className:" d-flex justify-content-end align-items-baseline",children:(0,j.jsx)(x.Z,{className:"m-2 myCustomBtn",size:"md",onClick:function(){return O("/transfer-to-user")},children:"Transfer to User??"})})]})}),(0,j.jsx)(u.Z,{children:(0,j.jsx)(v.Z,{className:"col-12",children:(0,j.jsxs)(h.Z,{className:"w-100",children:[(0,j.jsx)(h.Z.Header,{className:"h4",children:(0,j.jsxs)(d.Z,{fluid:!0,className:"d-flex justify-content-between",children:[(0,j.jsx)("div",{children:"Details"}),(0,j.jsxs)("div",{children:["Commission : ",e&&e.totalCommissionEarned]})]})}),(0,j.jsx)(f.Z,{children:(0,j.jsxs)(p.Z,{responsive:!0,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"text-center",children:"SN"}),(0,j.jsx)("th",{className:"text-center",children:"IFSC Code"}),(0,j.jsx)("th",{className:"text-center",children:"Amt"}),(0,j.jsx)("th",{className:"text-center",children:"Req. Date"}),(0,j.jsx)("th",{className:"text-center",children:"Trans. ID"}),(0,j.jsx)("th",{className:"text-center",children:"Status"}),(0,j.jsx)("th",{className:"text-center",children:"Transfer On"})]})}),(0,j.jsx)("tbody",{children:H&&H?H.map((function(a,r){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"text-center",children:r+1}),(0,j.jsx)("td",{className:"text-center",children:a.bankName}),(0,j.jsx)("td",{className:"text-center",children:a.amount}),(0,j.jsx)("td",{className:"text-center",children:new Date(e.createdAt).toLocaleDateString()}),(0,j.jsx)("td",{className:"text-center",children:a.transactionId?a.transactionId:"N/A"}),(0,j.jsx)("td",{className:"text-center",children:(0,j.jsx)(w,{status:a.status})}),(0,j.jsx)("td",{className:"text-center",children:a.transferOn?a.transferOn:"N/A"})]},r)})})):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:9,className:"text-danger text-center",children:"No Data Found"})})})]})})]})})})]})})}},40878:function(e,a,r){r.d(a,{Z:function(){return L}});var t=r(1413),s=r(45987),n=r(81694),c=r.n(n),i=r(72791),o=r(10162),l=r(99033),d=r(80184),u=["className","bsPrefix","as"],f=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?"div":i,f=(0,s.Z)(e,u);return n=(0,o.vE)(n,"card-footer"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},f))}));f.displayName="CardFooter";var m=f,x=i.createContext(null);x.displayName="CardHeaderContext";var v=x,h=["bsPrefix","className","as"],p=i.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,l=e.as,u=void 0===l?"div":l,f=(0,s.Z)(e,h),m=(0,o.vE)(r,"card-header"),x=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,d.jsx)(v.Provider,{value:x,children:(0,d.jsx)(u,(0,t.Z)((0,t.Z)({ref:a},f),{},{className:c()(n,m)}))})}));p.displayName="CardHeader";var N=p,Z=["bsPrefix","className","variant","as"],b=i.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,i=e.variant,l=e.as,u=void 0===l?"img":l,f=(0,s.Z)(e,Z),m=(0,o.vE)(r,"card-img");return(0,d.jsx)(u,(0,t.Z)({ref:a,className:c()(i?"".concat(m,"-").concat(i):m,n)},f))}));b.displayName="CardImg";var j=b,w=["className","bsPrefix","as"],g=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?"div":i,u=(0,s.Z)(e,w);return n=(0,o.vE)(n,"card-img-overlay"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},u))}));g.displayName="CardImgOverlay";var y=g,P=["className","bsPrefix","as"],C=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?"a":i,u=(0,s.Z)(e,P);return n=(0,o.vE)(n,"card-link"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},u))}));C.displayName="CardLink";var k=C,E=r(27472),I=["className","bsPrefix","as"],S=(0,E.Z)("h6"),R=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?S:i,u=(0,s.Z)(e,I);return n=(0,o.vE)(n,"card-subtitle"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},u))}));R.displayName="CardSubtitle";var A=R,B=["className","bsPrefix","as"],F=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?"p":i,u=(0,s.Z)(e,B);return n=(0,o.vE)(n,"card-text"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},u))}));F.displayName="CardText";var q=F,D=["className","bsPrefix","as"],_=(0,E.Z)("h5"),H=i.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,i=e.as,l=void 0===i?_:i,u=(0,s.Z)(e,D);return n=(0,o.vE)(n,"card-title"),(0,d.jsx)(l,(0,t.Z)({ref:a,className:c()(r,n)},u))}));H.displayName="CardTitle";var T=H,O=["bsPrefix","className","bg","text","border","body","children","as"],z=i.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,i=e.bg,u=e.text,f=e.border,m=e.body,x=void 0!==m&&m,v=e.children,h=e.as,p=void 0===h?"div":h,N=(0,s.Z)(e,O),Z=(0,o.vE)(r,"card");return(0,d.jsx)(p,(0,t.Z)((0,t.Z)({ref:a},N),{},{className:c()(n,Z,i&&"bg-".concat(i),u&&"text-".concat(u),f&&"border-".concat(f)),children:x?(0,d.jsx)(l.Z,{children:v}):v}))}));z.displayName="Card";var L=Object.assign(z,{Img:j,Title:T,Subtitle:A,Body:l.Z,Link:k,Text:q,Header:N,Footer:m,ImgOverlay:y})},99033:function(e,a,r){var t=r(1413),s=r(45987),n=r(72791),c=r(81694),i=r.n(c),o=r(10162),l=r(80184),d=["className","bsPrefix","as"],u=n.forwardRef((function(e,a){var r=e.className,n=e.bsPrefix,c=e.as,u=void 0===c?"div":c,f=(0,s.Z)(e,d);return n=(0,o.vE)(n,"card-body"),(0,l.jsx)(u,(0,t.Z)({ref:a,className:i()(r,n)},f))}));u.displayName="CardBody",a.Z=u},89743:function(e,a,r){var t=r(1413),s=r(45987),n=r(81694),c=r.n(n),i=r(72791),o=r(10162),l=r(80184),d=["bsPrefix","className","as"],u=i.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,i=e.as,u=void 0===i?"div":i,f=(0,s.Z)(e,d),m=(0,o.vE)(r,"row"),x=(0,o.pi)(),v=(0,o.zG)(),h="".concat(m,"-cols"),p=[];return x.forEach((function(e){var a,r=f[e];delete f[e],a=null!=r&&"object"===typeof r?r.cols:r;var t=e!==v?"-".concat(e):"";null!=a&&p.push("".concat(h).concat(t,"-").concat(a))})),(0,l.jsx)(u,(0,t.Z)((0,t.Z)({ref:a},f),{},{className:c().apply(void 0,[n,m].concat(p))}))}));u.displayName="Row",a.Z=u},62591:function(e,a,r){var t=r(1413),s=r(45987),n=r(81694),c=r.n(n),i=r(72791),o=r(10162),l=r(80184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,i=e.striped,u=e.bordered,f=e.borderless,m=e.hover,x=e.size,v=e.variant,h=e.responsive,p=(0,s.Z)(e,d),N=(0,o.vE)(r,"table"),Z=c()(n,N,v&&"".concat(N,"-").concat(v),x&&"".concat(N,"-").concat(x),i&&"".concat(N,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),u&&"".concat(N,"-bordered"),f&&"".concat(N,"-borderless"),m&&"".concat(N,"-hover")),b=(0,l.jsx)("table",(0,t.Z)((0,t.Z)({},p),{},{className:Z,ref:a}));if(h){var j="".concat(N,"-responsive");return"string"===typeof h&&(j="".concat(j,"-").concat(h)),(0,l.jsx)("div",{className:j,children:b})}return b}));a.Z=u},27472:function(e,a,r){var t=r(1413),s=r(72791),n=r(81694),c=r.n(n),i=r(80184);a.Z=function(e){return s.forwardRef((function(a,r){return(0,i.jsx)("div",(0,t.Z)((0,t.Z)({},a),{},{ref:r,className:c()(a.className,e)}))}))}}}]);
//# sourceMappingURL=8518.b0a31aa9.chunk.js.map